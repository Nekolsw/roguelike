# Боевая система в Roguelike

## Из чего состоит?

Боевая система включает в себя:

- CharacterStatsComponent - позволяет добавить объекту характеристики (здоровье и броню) и управлять ими, к примеру наносить урон, так же
он отслеживает здоровье и если оно падает до нуля, объект удаляется из игры.
- Weapon - виртуальный класс, от него наследуются все оружия, содержит основные методы необходимы для их реализации.
- AttackComponent - отвечает за атаку оружием и её перезарядку.
- AIMovementComponent - родительский класс всех компонентов отвечающих за ИИ, он позволяет прописать действия НПС, содержит в себе логику преследования цели.

## Возможности:

- Нанесение урона. AttackComponent вызывает активацию Weapon, в этот момент оружие появляется и если происходит столкновение
с другим объектом и он имеет CharacterStatsComponent, ему наносится урон.
- Контроль уровня здоровья. Если у объекта с CharacterStatsComponent здоровье падает до 0, объект удаляется.

## Характеристики:

- health - текущее здоровье.
- maxHealth - максимальное здоровье.
- armor - броня.

## Управление характеристиками:

CharacterStatsComponent содержит параметры и методы для их изменения:

- SetMaxHealth(float maxHealthSet) - задаёт максимальное здоровье.
- SetHealth(float healthSet) - задаёт текущее здоровье.
- GetHealth() - возвращает текущее здоровье.
- SetArmor(float armorSet) - задаёт броню.
- DealDamage(float amountDamage) - позволяет нанести урон здоровью, вычитает из урона броню.
- CheckStateLifeCharacter() - возвращает текущее.
- RestoreHealth(float amountHealth) - восстанавливает здоровье.
- OnDeath() - вызов смерти, изменяет состояние жизни на 0(смерть), после в Update происходит удаление объекта.

## Пример создания:

Для создание игрока необходимо:

1.Создать объект для игрока и добавить следующие компоненты: SpriteColliderComponent, SpriteRendererComponent, CharacterStatsComponent, ControllerInputComponent, AttackComponent, Sword(Унаследованное оружие от Weapon).
2.Ввести характеристики в CharacterStatsComponent.

Для создания врага:

1.Выполнить аналогичные действия что и с игроком, за исключение заменить: ControllerInputComponent на AICreeper и задать Target, а Sword заменить на Explosion.

При нажатии клавиши пробел, перед персонажем будет появляться меч, при столкновении с врагом ему будет наноситься 25 урона, если Creeper взорвется рядом с игроком, игрок потеряет 35 здоровья, при учёте что его броня равна нулю, когда здоровье врага или игрока опуститься до 0, он будет уничтожен.  

Поздравляю, вы знаете как устроен боевая система игры
 

